# üìÅ Scripts Directory

–ò—Å–ø–æ–ª–Ω—è–µ–º—ã–µ —Å–∫—Ä–∏–ø—Ç—ã –¥–ª—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –∑–∞–¥–∞—á –ø—Ä–æ–µ–∫—Ç–∞.

## üîÑ Migrations (`migrations/`)

–°–∫—Ä–∏–ø—Ç—ã –¥–ª—è –º–∏–≥—Ä–∞—Ü–∏–∏ –∏ —Å–æ–∑–¥–∞–Ω–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö:

- `migrate.php` - –û—Å–Ω–æ–≤–Ω–æ–π —Å–∫—Ä–∏–ø—Ç –º–∏–≥—Ä–∞—Ü–∏–π
- `create_notifications_table.php` - –°–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π  
- `create_vote_tables.php` - –°–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è
- `migrate_account_coins.php` - –ú–∏–≥—Ä–∞—Ü–∏—è –º–æ–Ω–µ—Ç –∞–∫–∫–∞—É–Ω—Ç–æ–≤
- `migrate_vote_currency.php` - –ú–∏–≥—Ä–∞—Ü–∏—è –≤–∞–ª—é—Ç—ã –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è
- `migrate_vote_log.php` - –ú–∏–≥—Ä–∞—Ü–∏—è –ª–æ–≥–æ–≤ –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
```bash
php scripts/migrations/migrate.php
```

## üß™ Tests (`tests/`)

–¢–µ—Å—Ç–æ–≤—ã–µ —Å–∫—Ä–∏–ø—Ç—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏:

- `test_cache_performance.php` - –¢–µ—Å—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è
- `test_email_design.php` - –¢–µ—Å—Ç –¥–∏–∑–∞–π–Ω–∞ email
- `test_notify_admin.php` - –¢–µ—Å—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
- `test_restore_password.php` - –¢–µ—Å—Ç –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –ø–∞—Ä–æ–ª—è
- `test_smtp_direct.php` - –¢–µ—Å—Ç SMTP –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
- `test_vote_service.php` - –¢–µ—Å—Ç —Å–µ—Ä–≤–∏—Å–∞ –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è
- `test_vote_top_final.php` - –¢–µ—Å—Ç —Ç–æ–ø–∞ –≥–æ–ª–æ—Å—É—é—â–∏—Ö

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
```bash
php scripts/tests/test_cache_performance.php
php scripts/tests/test_vote_service.php
```

## üîÑ Sync (`sync/`)

–°–∫—Ä–∏–ø—Ç—ã —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö —Å –≤–Ω–µ—à–Ω–∏–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏:

- `sync_mmotop_votes.php` - –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –≥–æ–ª–æ—Å–æ–≤ —Å MMOTOP
- `sync_votes.php` - –û–±—â–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –≥–æ–ª–æ—Å–æ–≤

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
```bash
php scripts/sync/sync_mmotop_votes.php
```

## üîß Maintenance (`maintenance/`)

–°–∫—Ä–∏–ø—Ç—ã –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ —Å–∏—Å—Ç–µ–º—ã:

- `cache_cleanup.php` - –û—á–∏—Å—Ç–∫–∞ —É—Å—Ç–∞—Ä–µ–≤—à–µ–≥–æ –∫–µ—à–∞
- `cache_monitor.php` - –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∫–µ—à–∞
- `database_optimization.sql` - SQL —Å–∫—Ä–∏–ø—Ç—ã –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ë–î

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
```bash
php scripts/maintenance/cache_cleanup.php
```

### –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è (crontab):
```bash
# –û—á–∏—Å—Ç–∫–∞ –∫–µ—à–∞ –∫–∞–∂–¥—ã–µ 30 –º–∏–Ω—É—Ç
*/30 * * * * php /path/to/scripts/maintenance/cache_cleanup.php

# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∫–∞–∂–¥—ã–π —á–∞—Å
0 * * * * php /path/to/scripts/maintenance/cache_monitor.php
```

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- –í—Å–µ —Å–∫—Ä–∏–ø—Ç—ã –¥–æ–ª–∂–Ω—ã –∑–∞–ø—É—Å–∫–∞—Ç—å—Å—è –∏–∑ –∫–æ—Ä–Ω—è –ø—Ä–æ–µ–∫—Ç–∞
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `bootstrap.php` –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –ø–æ–¥–∫–ª—é—á–µ–Ω
- –î–ª—è production –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∞–±—Å–æ–ª—é—Ç–Ω—ã–µ –ø—É—Ç–∏ –≤ cron –∑–∞–¥–∞—á–∞—Ö
- –õ–æ–≥–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ `/cache/` –ø–∞–ø–∫–µ